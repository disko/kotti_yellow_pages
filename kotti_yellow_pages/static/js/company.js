// Generated by CoffeeScript 1.6.2
/**
 * Company view controller
 * @param {ng.Scope} $scope Controller scope
 * @param {L.map}    map    Map object with tileLayer and additional
 *                          latLngForAddress method.
*/

var CompanyCtrl;

CompanyCtrl = function($scope, map) {
  var initMap;

  initMap = function() {
    $scope.location = new L.LatLng($scope.lat, $scope.lng);
    $scope.map = map;
    $scope.map.setView($scope.location, 12);
    return $scope.marker = L.marker($scope.location, {
      draggable: false
    }).addTo($scope.map);
  };
  $scope.$watch('lat', function() {
    if ($scope.lng) {
      return initMap();
    }
  });
  return $scope.$watch('lng', function() {
    if ($scope.lat) {
      return initMap();
    }
  });
};
